!function(){var a=$(document.body).data("basepath"),b=["Paris, France, all airports","Paris Hill, United States","Paris, United States","London, UK","Bern, Switzerland"],c={init:function(){if(this.initUI(),this.initTabs(),this.initAccordion(),$("div.expander div.map").length>0&&$("div.expander div.map").each(function(){c.initMap($(this),new google.maps.LatLng(51.575363,-.043945),new google.maps.LatLng(52.547966,-1.889648))}),this.initDetailsButton(),this.initMobileDetailsButton(),this.switchGallery(),this.switchSmallGallery(),this.switchMobileGallery(),$("div.map-holder").length>0){var a=[[51.575363,-.043945],[52.547966,-1.889648],[53.708088,-1.450195],[55.935356,-4.306641]];this.initLargeMap($("div.map-holder"),a)}this.mobileNavSlide(),this.showMenu(),this.switchCheckoutGallery(),this.showHideOfferDetails(),this.addPassanger(),this.expandFlights(),this.expandTimes(),this.addNewLeg(),this.removeLeg(),this.showHideLogin(),this.cookieMessage(),this.tooltipInit(),this.toggleFlightTimes()},initUI:function(){$(".datepicker:visible").datepicker(),$(".autocomplete:visible").autocomplete({source:b}),$(window).on("scroll",function(){var a=$("#fixed-top"),b=$(window).scrollTop();b>=70?a.addClass("fixed"):a.removeClass("fixed")})},initTabs:function(){$("div.tabs div.navigation a").on("click",function(a){a.preventDefault(),$(this).closest("div.navigation").find("a").removeClass("active"),$(this).addClass("active"),$(this).closest("div.tabs").find("div.tab").removeClass("show"),$($(this).data("target")).addClass("show"),c.initUI()})},initAccordion:function(){$("ul.aircrafts li.closed div.title").on("click",function(){$("ul.aircrafts li").removeClass("expanded").addClass("closed"),$("ul.aircrafts li.expanded div.extra").slideUp(),$(this).addClass("expanded"),$(this).next().slideToggle(),$(this).find(".icons").toggle()})},initDetailsButton:function(){$("td.actions .btn").on("click",function(a){a.preventDefault(),$(this).closest("tr").addClass("expanded");var b=$(this);$(this).parents("tr").next().find("div.expander").slideDown(function(){b.parents("tr").next().find("div.map").css({display:"block"}),google.maps.event.trigger(b.parents("tr").next().find("div.map").get(0),"resize")})})},initMobileDetailsButton:function(){$("div.table div.row .btn").on("click",function(a){a.preventDefault(),$(this).parents("div.row").addClass("active"),$(this).parents("div.row").find("div.extra").slideDown()})},initMap:function(a,b,c){var d="/media/static/images/",e=new google.maps.MarkerImage(d+"marker.png",null,new google.maps.Point(0,0),new google.maps.Point(75,35)),e={url:d+"marker.png",origin:new google.maps.Point(0,0),anchor:new google.maps.Point(12,12)},f={zoom:3,center:new google.maps.LatLng(0,-180),mapTypeId:google.maps.MapTypeId.TERRAIN,disableDefaultUI:!0},g=new google.maps.Map($(a).get(0),f),h=[b,c],i=new google.maps.Polyline({path:h,geodesic:!1,strokeColor:"#323a45",strokeOpacity:1,strokeWeight:3});i.setMap(g);var j=(new Array(b,c),new google.maps.LatLngBounds);j.extend(b),j.extend(c),g.fitBounds(j);new google.maps.Marker({position:b,map:g,icon:e})},initLargeMap:function(a,b){var c="/media/static/images/",d=new google.maps.MarkerImage(c+"marker.png",null,new google.maps.Point(0,0),new google.maps.Point(75,35)),d={url:c+"marker.png",origin:new google.maps.Point(0,0),anchor:new google.maps.Point(12,12)},e={zoom:3,center:new google.maps.LatLng(0,-180),mapTypeId:google.maps.MapTypeId.TERRAIN,scrollwheel:!1},f=new google.maps.Map($(a).get(0),e),g=[];$.each(b,function(a,b){position=new google.maps.LatLng(b[0],b[1]),g.push(position)});var h=new google.maps.LatLngBounds;$.each(g,function(a,b){h.extend(b);var c='<div class="popover-maps">  <h3>Paris, France (PAR)</h3>  <div class="icons">    <span class="icon icon-tiny-jet active"></span>    <span class="icon icon-small-jet active"></span>    <span class="icon icon-regular-jet"></span>    <span class="icon icon-medium-jet"></span>    <span class="icon icon-large-jet"></span>  </div>  <p>14 km from Rua Da Piscina, Castelo Branco</p>  <a href="#" class="btn add-start">Add as starting point</a>  <a href="#" class="btn add-end">Add as destination</a></div>',e={content:c,disableAutoPan:!0,maxWidth:0,pixelOffset:new google.maps.Size(-100,-240),zIndex:null,closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1},g=new google.maps.Marker({position:b,map:f,icon:d}),i=new InfoBox(e);google.maps.event.addListener(g,"click",function(){i.close(),i.open(f,g)}),google.maps.event.addListener(f,"click",function(){i.close()})}),f.fitBounds(h)},showMenu:function(){$("html").click(function(){$("body").removeClass("expanded")}),$("a.menu-trigger").on("click touchstart",function(a){a.stopPropagation(),$("body").toggleClass("expanded")}),$(".mobile-nav").click(function(a){a.stopPropagation()})},switchGallery:function(){$("tr.details div.switch a").on("click",function(a){a.preventDefault(),$(this).parents("td").find("div.switch a").removeClass("active"),$(this).parents("td").find("div.images div.gallery").removeClass("show"),$(this).parents("td").find($(this).data("target")).addClass("show"),$(this).addClass("active")})},switchSmallGallery:function(){$("div.column.galleries ul li a").on("click",function(a){a.preventDefault(),$(this).parents("div.galleries").find("ul a").removeClass("active"),$(this).parents("div.galleries").find("div.images div.gallery").removeClass("show"),$(this).parents("div.galleries").find($(this).data("target")).addClass("show"),$(this).addClass("active")})},switchMobileGallery:function(){$("div.table div.switch a").on("click",function(a){a.preventDefault(),$(this).parents("div.row").find("div.switch a").removeClass("active"),$(this).parents("div.row").find("div.galleries div.gallery").removeClass("show"),$(this).parents("div.row").find($(this).data("target")).addClass("show"),$(this).addClass("active")})},mobileNavSlide:function(){$("nav.mobile-nav span.action").on("click",function(){$(this).parent().toggleClass("expanded"),$(this).parent().find("ul").first().slideToggle()})},switchCheckoutGallery:function(){$("div.offer div.switch a").on("click",function(a){a.preventDefault(),$(this).parents("div.offer").find("div.switch a").removeClass("active"),$(this).parents("div.offer").find("div.images div.gallery").removeClass("show"),$(this).parents("div.offer").find($(this).data("target")).addClass("show"),$(this).addClass("active")})},showHideOfferDetails:function(){$("div.offer div.header a.switch").on("click",function(a){$(".slick").resize(),a.preventDefault(),$(this).parent().find("a").toggleClass("show"),$(this).parents("div.offer").find("div.additional, dl.extra").slideToggle()})},addPassanger:function(){$("a.add-passanger").on("click",function(a){a.preventDefault();var b=$("div.passanger-template").html(),d=$("form div.passanger.single").length;b=b.replace("xyz",d+1),$(b).removeClass("template"),$("form div.passanger.single:last").after(b),c.initUI()})},expandFlights:function(){$("body").width()<f&&$("div.sidebar div.part h3").on("click",function(a){a.preventDefault(),$(this).parent().find("ul").slideToggle()})},expandTimes:function(){$("a.expand-times").on("click",function(a){a.preventDefault(),$(this).toggleClass("open"),$(this).next().slideToggle()})},addNewLeg:function(){$("a.add-return-leg").on("click",function(a){a.preventDefault();var b=$("div.leg-template").html(),d=$("#charter-quote-form div.row.data").length;time=(new Date).getTime(),b=b.replace(/xyz/g,time).replace("leg-no",d+1),$("#charter-quote-form div.row.data:last").after(b),c.initUI()})},removeLeg:function(){$(document).on("click","a.remove-leg",function(a){a.preventDefault(),$(this).closest("div.row").remove(),c.recountLegs()})},recountLegs:function(){$("#charter-quote-form div.row.data");$("#charter-quote-form div.row.data").each(function(a){i=a+1,$(this).find(".custom").html("Leg "+i)})},showHideLogin:function(){$("html").click(function(){$("div.toolbar a.login").removeClass("active"),$("div.toolbar a.login").closest("li").next().slideUp()}),$("div.toolbar a.login").on("click",function(a){a.stopPropagation(),$(this).toggleClass("active"),$(this).closest("li").next().slideToggle()}),$(".login-form").click(function(a){a.stopPropagation()})},cookieMessage:function(){$(".cookie .btn").on("click",function(){Cookies.set("cookieMessage",!0),$("#cookie").slideUp()}),"true"!=Cookies.get("cookieMessage")&&setTimeout(function(){$("#cookie").slideDown()},1e3)},tooltipInit:function(){$("a.webui-tooltip").webuiPopover({width:"330",arrow:!1,animation:"pop",content:$("#tooltip-offer").html(),style:"offer"}),$("a.popover").webuiPopover({content:$("#popover-content").html(),placement:"top",animation:"pop",style:"notice"}),$("body").on("click",".tooltip-close, .popover-close",function(a){a.preventDefault(),$("body").trigger("click")})},randomImage:function(){var b=["url("+a+"images/home.jpg)","url("+a+"images/guy.jpg)"],c=b.length,d=Math.floor(c*Math.random());$("section.index").css("background-image",b[d])},toggleFlightTimes:function(){$("body").on("click","ul.checkboxes .extra",function(){$(this).parent().find(".flight-times").slideToggle(),$(this).toggleClass("open")})}};window.AscentJet=c;var d,e,f=960;e=$("body"),d=$("ul.st-menu"),e.width()>=f&&d.superfish(),$(window).resize(function(){e.width()>=f&&!d.hasClass("sf-js-enabled")?d.superfish("init"):e.width()<f&&d.superfish("destroy")}),$(".payment-button").click(function(){$(this).parent().parent().find("input.agree").is(":checked")?(Datatrans.startPayment({form:$(this).data("form")}),$(this).parent().parent().find("label").removeClass("error")):$(this).parent().parent().find("label").addClass("error")}),jQuery.validator.addMethod("email_pattern",function(a,b){return this.optional(b)||/^[-_a-z0-9]+(\.[-_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/.test(a)},"Please enter a valid email address.")}(),AscentJet.init();